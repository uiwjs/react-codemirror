{"version":3,"file":"static/js/226.302f9e43.chunk.js","mappings":"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","sources":["../../extensions/hyper-link/esm/index.js","pages/extensions/hyper-link/index.tsx","pages/extensions/hyper-link/codeSample.ts","pages/extensions/index.tsx","utils/useTheme.tsx"],"sourcesContent":["import { ViewPlugin, EditorView, Decoration, MatchDecorator, WidgetType } from '@codemirror/view';\nvar pathStr = \"<svg viewBox=\\\"0 0 1024 1024\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\"><path d=\\\"M607.934444 417.856853c-6.179746-6.1777-12.766768-11.746532-19.554358-16.910135l-0.01228 0.011256c-6.986111-6.719028-16.47216-10.857279-26.930349-10.857279-21.464871 0-38.864146 17.400299-38.864146 38.864146 0 9.497305 3.411703 18.196431 9.071609 24.947182l-0.001023 0c0.001023 0.001023 0.00307 0.00307 0.005117 0.004093 2.718925 3.242857 5.953595 6.03853 9.585309 8.251941 3.664459 3.021823 7.261381 5.997598 10.624988 9.361205l3.203972 3.204995c40.279379 40.229237 28.254507 109.539812-12.024871 149.820214L371.157763 796.383956c-40.278355 40.229237-105.761766 40.229237-146.042167 0l-3.229554-3.231601c-40.281425-40.278355-40.281425-105.809861 0-145.991002l75.93546-75.909877c9.742898-7.733125 15.997346-19.668968 15.997346-33.072233 0-23.312962-18.898419-42.211381-42.211381-42.211381-8.797363 0-16.963347 2.693342-23.725354 7.297197-0.021489-0.045025-0.044002-0.088004-0.066515-0.134053l-0.809435 0.757247c-2.989077 2.148943-5.691629 4.669346-8.025791 7.510044l-78.913281 73.841775c-74.178443 74.229608-74.178443 195.632609 0 269.758863l3.203972 3.202948c74.178443 74.127278 195.529255 74.127278 269.707698 0l171.829484-171.880649c74.076112-74.17435 80.357166-191.184297 6.282077-265.311575L607.934444 417.856853z\\\"></path><path d=\\\"M855.61957 165.804257l-3.203972-3.203972c-74.17742-74.178443-195.528232-74.178443-269.706675 0L410.87944 334.479911c-74.178443 74.178443-78.263481 181.296089-4.085038 255.522628l3.152806 3.104711c3.368724 3.367701 6.865361 6.54302 10.434653 9.588379 2.583848 2.885723 5.618974 5.355985 8.992815 7.309476 0.025583 0.020466 0.052189 0.041956 0.077771 0.062422l0.011256-0.010233c5.377474 3.092431 11.608386 4.870938 18.257829 4.870938 20.263509 0 36.68962-16.428158 36.68962-36.68962 0-5.719258-1.309832-11.132548-3.645017-15.95846l0 0c-4.850471-10.891048-13.930267-17.521049-20.210297-23.802102l-3.15383-3.102664c-40.278355-40.278355-24.982998-98.79612 15.295358-139.074476l171.930791-171.830507c40.179095-40.280402 105.685018-40.280402 145.965419 0l3.206018 3.152806c40.279379 40.281425 40.279379 105.838513 0 146.06775l-75.686796 75.737962c-10.296507 7.628748-16.97358 19.865443-16.97358 33.662681 0 23.12365 18.745946 41.87062 41.87062 41.87062 8.048303 0 15.563464-2.275833 21.944801-6.211469 0.048095 0.081864 0.093121 0.157589 0.141216 0.240477l1.173732-1.083681c3.616364-2.421142 6.828522-5.393847 9.529027-8.792247l79.766718-73.603345C929.798013 361.334535 929.798013 239.981676 855.61957 165.804257z\\\"></path></svg>\";\nvar defaultRegexp = /\\b((?:https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*)\\b/gi;\nclass HyperLinkIcon extends WidgetType {\n  constructor(state) {\n    super();\n    this.state = void 0;\n    this.state = state;\n  }\n  eq(other) {\n    return this.state.url === other.state.url && this.state.at === other.state.at;\n  }\n  toDOM() {\n    var wrapper = document.createElement('a');\n    wrapper.href = this.state.url;\n    wrapper.target = '_blank';\n    wrapper.innerHTML = pathStr;\n    wrapper.className = 'cm-hyper-link-icon';\n    wrapper.rel = 'nofollow';\n    var anchor = this.state.anchor && this.state.anchor(wrapper);\n    return anchor || wrapper;\n  }\n}\nfunction hyperLinkDecorations(view, anchor) {\n  var widgets = [];\n  var doc = view.state.doc.toString();\n  var match;\n  while ((match = defaultRegexp.exec(doc)) !== null) {\n    var from = match.index;\n    var to = from + match[0].length;\n    var widget = Decoration.widget({\n      widget: new HyperLinkIcon({\n        at: to,\n        url: match[0],\n        anchor\n      }),\n      side: 1\n    });\n    widgets.push(widget.range(to));\n  }\n  return Decoration.set(widgets);\n}\nvar linkDecorator = (regexp, matchData, matchFn, anchor) => new MatchDecorator({\n  regexp: regexp || defaultRegexp,\n  decorate: (add, from, to, match, view) => {\n    var url = match[0];\n    var urlStr = matchFn && typeof matchFn === 'function' ? matchFn(url, match.input, from, to) : url;\n    if (matchData && matchData[url]) {\n      urlStr = matchData[url];\n    }\n    var start = to,\n      end = to;\n    var linkIcon = new HyperLinkIcon({\n      at: start,\n      url: urlStr,\n      anchor\n    });\n    add(from, to, Decoration.mark({\n      class: 'cm-hyper-link-underline'\n    }));\n    add(start, end, Decoration.widget({\n      widget: linkIcon,\n      side: 1\n    }));\n  }\n});\nexport function hyperLinkExtension(_temp) {\n  var {\n    regexp,\n    match,\n    handle,\n    anchor\n  } = _temp === void 0 ? {} : _temp;\n  return ViewPlugin.fromClass(class HyperLinkView {\n    constructor(view) {\n      this.decorator = void 0;\n      this.decorations = void 0;\n      if (regexp) {\n        this.decorator = linkDecorator(regexp, match, handle, anchor);\n        this.decorations = this.decorator.createDeco(view);\n      } else {\n        this.decorations = hyperLinkDecorations(view, anchor);\n      }\n    }\n    update(update) {\n      if (update.docChanged || update.viewportChanged) {\n        if (regexp && this.decorator) {\n          this.decorations = this.decorator.updateDeco(update, this.decorations);\n        } else {\n          this.decorations = hyperLinkDecorations(update.view, anchor);\n        }\n      }\n    }\n  }, {\n    decorations: v => v.decorations\n  });\n}\nexport var hyperLinkStyle = EditorView.baseTheme({\n  '.cm-hyper-link-icon': {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    marginLeft: '0.2ch'\n  },\n  '.cm-hyper-link-icon svg': {\n    display: 'block'\n  },\n  '.cm-hyper-link-underline': {\n    textDecoration: 'underline'\n  }\n});\nexport var hyperLink = [hyperLinkExtension(), hyperLinkStyle];","import { hyperLink } from '@uiw/codemirror-extensions-hyper-link';\n// import { hyperLinkExtension, hyperLinkStyle } from '@uiw/codemirror-extensions-hyper-link';\nimport CodeMirror from '@uiw/react-codemirror';\nimport { langs } from '@uiw/codemirror-extensions-langs';\nimport { Preview } from '../../theme/Preview';\nimport { useTheme } from '../../../utils/useTheme';\nimport { markdownString } from './codeSample';\nimport { PageWarpper } from '..';\n\n// const hyperLink = [\n//   hyperLinkExtension({\n//     regexp: /codemirror/gi,\n//     match: { codemirror: 'https://google.com' },\n//     handle: (value, input, from, to) => {\n//       if (value === 'codemirror') return 'https://google.com';\n//       return value;\n//     },\n//   }),\n//   hyperLinkStyle,\n// ];\n\nexport const HyperLinkExample = () => {\n  const { theme } = useTheme();\n  return (\n    <PageWarpper>\n      <CodeMirror\n        value={markdownString}\n        theme={theme}\n        height=\"300px !important\"\n        style={{ margin: '0 0 23px 0' }}\n        extensions={[langs.markdown(), hyperLink]}\n      />\n    </PageWarpper>\n  );\n};\n\nexport const Component = () => {\n  return (\n    <Preview path={() => import('@uiw/codemirror-extensions-hyper-link/README.md')}>\n      <HyperLinkExample />\n    </Preview>\n  );\n};\n","export const markdownString = `Hyper Link\n====\n\n- https://www.npmjs.com/package/@uiw/react-codemirror this url\n\n[url 1](https://www.npmjs.com)\n[url 2](https://www.npmjs.com/package/@uiw/react-codemirror)\n\n\\`\\`\\`js\nconst str = \"https://www.npmjs.com/package/@uiw/react-codemirror\"\n\\`\\`\\`\n`;\nexport const jsonString = `{\n  \"name\": \"@uiw/codemirror-extensions-hyper-link\",\n  \"homepage\": \"https://uiwjs.github.io/react-codemirror/#/extensions/hyper-link\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/uiwjs/react-codemirror.git\"\n  }\n}`;\n","import styled from 'styled-components';\n\nexport const PageWarpper = styled.div`\n  flex: 1;\n  max-width: 980px;\n  padding: 20px 20px 30px 20px;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  flex: 1;\n`;\n\nexport const Extensions = () => {};\n","import { useEffect, useState } from 'react';\nimport { ReactCodeMirrorProps } from '@uiw/react-codemirror';\n\nexport function useTheme(name: ReactCodeMirrorProps['theme'] = 'light') {\n  const dark = document.documentElement.getAttribute('data-color-mode');\n  const [theme, setTheme] = useState<ReactCodeMirrorProps['theme']>(dark === 'dark' ? 'dark' : name);\n  useEffect(() => {\n    setTheme(document.documentElement.getAttribute('data-color-mode') === 'dark' ? 'dark' : 'light');\n    document.addEventListener('colorschemechange', (e) => {\n      setTheme(e.detail.colorScheme as ReactCodeMirrorProps['theme']);\n    });\n  }, []);\n  return { theme, setTheme };\n}\n"],"names":["defaultRegexp","HyperLinkIcon","WidgetType","constructor","state","super","this","eq","other","url","at","toDOM","wrapper","document","createElement","href","target","innerHTML","className","rel","anchor","hyperLinkDecorations","view","match","widgets","doc","toString","exec","to","index","length","widget","Decoration","side","push","range","set","hyperLinkStyle","EditorView","baseTheme","display","verticalAlign","marginLeft","textDecoration","hyperLink","_temp","regexp","handle","ViewPlugin","fromClass","decorator","decorations","linkDecorator","matchData","matchFn","MatchDecorator","decorate","add","from","urlStr","input","start","end","linkIcon","mark","class","createDeco","update","docChanged","viewportChanged","updateDeco","v","hyperLinkExtension","HyperLinkExample","theme","useTheme","_jsx","PageWarpper","children","CodeMirror","value","height","style","margin","extensions","langs","markdown","Component","Preview","path","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","name","arguments","undefined","dark","documentElement","getAttribute","setTheme","useState","useEffect","addEventListener","e","detail","colorScheme"],"sourceRoot":""}