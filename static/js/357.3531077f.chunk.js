"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[357],{27406:(e,n,t)=>{t.d(n,{A:()=>y});var r=t(68102),o=t(49257),s=t(80905),i=t(96742),a=t(98557),c={modified:{doc:""},original:{doc:""}},l=(0,s.createContext)(c);function d(e,n){return(0,r.A)({},e,n,{modified:(0,r.A)({},e.modified,n.modified),original:(0,r.A)({},e.original,n.original)})}var h=()=>(0,s.useContext)(l),u=e=>{var{children:n,theme:t}=e,[o,i]=(0,s.useReducer)(d,(0,r.A)({},c,{theme:t}));return(0,s.useEffect)(()=>i({theme:t}),[t]),(0,a.jsx)(l.Provider,{value:(0,r.A)({},o,{dispatch:i}),children:n})},g=["extensions","value","selection","onChange"],p=e=>{var{extensions:n=[],value:t,selection:a,onChange:c}=e,l=(0,o.A)(e,g),{theme:d,dispatch:u}=h(),p=(0,i.IA)((0,r.A)({},l,{theme:d}));return(0,s.useEffect)(()=>u({original:{doc:t,selection:a,extensions:[...p,...n]},originalExtension:{onChange:c,option:l,extension:[n]}}),[e]),null};p.displayName="CodeMirrorMerge.Original";var f=["extensions","value","selection","onChange"],v=e=>{var{extensions:n=[],value:t,selection:a,onChange:c}=e,l=(0,o.A)(e,f),{theme:d,dispatch:u}=h(),g=(0,i.IA)((0,r.A)({},l,{theme:d}));return(0,s.useEffect)(()=>{u({modified:{doc:t,selection:a,extensions:[...g,...n]},modifiedExtension:{onChange:c,option:l,extension:[n]}})},[e]),null};v.displayName="CodeMirrorMerge.Modified";var m=t(60125),x=t(67538),C=["className","children","orientation","revertControls","highlightChanges","gutter","collapseUnchanged","destroyRerender","renderRevertControl","diffConfig","root"],A=["modified","modifiedExtension","original","originalExtension","theme","dispatch"],b=s.forwardRef((e,n)=>{var{className:t,children:c,orientation:l,revertControls:d,highlightChanges:u,gutter:g,collapseUnchanged:p,destroyRerender:f=!0,renderRevertControl:v,diffConfig:b,root:w}=e,j=(0,o.A)(e,C),y=h(),{modified:k,modifiedExtension:V,original:E,originalExtension:L,theme:S,dispatch:M}=y,R=(0,o.A)(y,A),z=(0,s.useRef)(null),I=(0,s.useRef)(),N={orientation:l,revertControls:d,highlightChanges:u,gutter:g,collapseUnchanged:p,renderRevertControl:v,diffConfig:b,root:w};(0,s.useImperativeHandle)(n,()=>({container:z.current,view:I.current,modified:k,original:E,config:(0,r.A)({a:E,b:k,parent:z.current},N)}),[z,I,k,E,N]);var O=x.Lz.updateListener.of(e=>{if(e.docChanged&&"function"===typeof(null==L?void 0:L.onChange)){var n=e.state.doc.toString();null==L||L.onChange(n,e)}}),U=x.Lz.updateListener.of(e=>{if(e.docChanged&&"function"===typeof(null==V?void 0:V.onChange)){var n=e.state.doc.toString();null==V||V.onChange(n,e)}});(0,s.useEffect)(()=>{!I.current&&z.current&&L&&V&&(I.current=new m.SV((0,r.A)({a:(0,r.A)({},E,{extensions:[...(null==L?void 0:L.extension)||[],...(0,i.IA)((0,r.A)({},null==L?void 0:L.option,{theme:S})),O]}),b:(0,r.A)({},k,{extensions:[...(null==V?void 0:V.extension)||[],...(0,i.IA)((0,r.A)({},null==V?void 0:V.option,{theme:S})),U]}),parent:z.current},N)),M({view:I.current}))},[I,z,L,V]),(0,s.useEffect)(()=>{if(E&&E.doc&&I.current){var e,n,t=null==(e=I.current)?void 0:e.a.state.doc.toString();if(t!==E.doc)null==(n=I.current)||n.a.dispatch({changes:{from:0,to:t.length,insert:E.doc||""}})}if(k&&k.doc&&I.current){var o,s,a=null==(o=I.current)?void 0:o.b.state.doc.toString();if(a!==k.doc)null==(s=I.current)||s.b.dispatch({changes:{from:0,to:a.length,insert:k.doc||""}})}if(f&&I.current){var c=I.current.a.state.selection.ranges[0].from,l=I.current.b.state.selection.ranges[0].from;I.current.destroy(),I.current=new m.SV((0,r.A)({a:(0,r.A)({},E,{extensions:[...(null==L?void 0:L.extension)||[],...(0,i.IA)((0,r.A)({},null==L?void 0:L.option,{theme:S}))]}),b:(0,r.A)({},k,{extensions:[...(null==V?void 0:V.extension)||[],...(0,i.IA)((0,r.A)({},null==V?void 0:V.option,{theme:S}))]}),parent:z.current},N)),c&&(I.current.a.focus(),I.current.a.dispatch({selection:{anchor:c,head:c}})),l&&(I.current.b.focus(),I.current.b.dispatch({selection:{anchor:l,head:l}}))}},[I,S,z.current,E,k,L,V,f]),(0,s.useEffect)(()=>()=>I.current&&I.current.destroy(),[]),(0,s.useEffect)(()=>{if(I.current){var e={};R.orientation!==l&&(e.orientation=l),R.revertControls!==d&&(e.revertControls=d),R.highlightChanges!==u&&(e.highlightChanges=u),R.gutter!==g&&(e.gutter=g),R.collapseUnchanged!==p&&(e.collapseUnchanged=p),R.renderRevertControl!==v&&(e.collapseUnchanged=p),Object.keys(e).length&&M&&I.current&&(I.current.reconfigure((0,r.A)({},e)),M((0,r.A)({},e)))}},[M,I,l,d,u,g,p,v]);return(0,a.jsx)("div",(0,r.A)({ref:z,className:"cm-merge-theme"+(t?" "+t:"")},j,{children:c}))});b.displayName="CodeMirrorMerge.Internal";var w=["theme"],j=s.forwardRef((e,n)=>{var{theme:t}=e,s=(0,o.A)(e,w);return(0,a.jsx)(u,{theme:t,children:(0,a.jsx)(b,(0,r.A)({},s,{ref:n}))})});j.Original=p,j.Modified=v,j.displayName="CodeMirrorMerge";const y=j},50357:(e,n,t)=>{t.r(n),t.d(n,{Component:()=>f});var r=t(98846),o=t(80905),s=t(27406),i=t(67538),a=t(8070),c=t(42378);const l="// The player has a position, a size, and a current speed.\nclass Player {\n  size = new Vec(0.8, 1.5);\n\n  constructor(pos, speed) {\n    this.pos = pos;\n    this.speed = speed;\n  }\n\n  static create(pos) {\n    return new Player(pos.plus(new Vec(0, -0.5)), new Vec(0, 0));\n  }\n}\n\n// Lava block. When you touch it, you die.\nclass Lava {\n  size = new Vec(1, 1)\n\n  constructor(pos, speed, reset) {\n    this.pos = pos;\n    this.speed = speed;\n    this.reset = reset;\n  }\n\n  static horizontal(pos) {\n    return new Lava(pos, new Vec(2, 0));\n  }\n\n  static vertical(pos) {\n    return new Lava(pos, new Vec(0, 2));\n  }\n\n  static drip(pos) {\n    return new Lava(pos, new Vec(0, 3), pos);\n  }\n}\n";var d=t(94458),h=t(98557);const u=s.A.Original,g=s.A.Modified,p=()=>{const[e,n]=(0,o.useState)("a-b"),[t,r]=(0,o.useState)(),[p,f]=(0,o.useState)(!0),[v,m]=(0,o.useState)(!0),[x,C]=(0,o.useState)({}),{theme:A}=(0,d.D)(),[b,w]=(0,o.useState)(l),j=(0,o.useRef)();return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)("button",{onClick:()=>{j.current=Math.floor(101*Math.random());const e="// hello world"+j.current+"\n"+l;w(e)},children:["Change Original Value ",j.current]}),(0,h.jsxs)(s.A,{orientation:e,revertControls:t,collapseUnchanged:x,highlightChanges:p,gutter:v,style:{height:300,overflow:"auto"},theme:A,children:[(0,h.jsx)(u,{value:b,extensions:[c.cg.js()],onChange:e=>{}}),(0,h.jsx)(g,{value:'class Player {\n  get type() { return "player" }\n\n  constructor(pos, speed) {\n    this.pos = pos;\n    this.speed = speed;\n  }\n\n  static create(pos) {\n    return new Player(pos.plus(new Vec(0, -0.5)), new Vec(0, 0));\n  }\n}\n\nclass Lava {\n  constructor(pos, speed, reset) {\n    this.pos = pos;\n    this.speed = speed;\n    this.reset = reset;\n  }\n\n  get type() { return "lava"; }\n\n  static create(pos, ch) {\n    if (ch == "=") {\n      return new Lava(pos, new Vec(2, 0));\n    } else if (ch == "|") {\n      return new Lava(pos, new Vec(0, 2));\n    } else if (ch == "v") {\n      return new Lava(pos, new Vec(0, 3), pos);\n    }\n  }\n}\n\nPlayer.prototype.size = new Vec(0.8, 1.5);\nLava.prototype.size = new Vec(1, 1);\n',extensions:[c.cg.js(),i.Lz.editable.of(!1),a.$t.readOnly.of(!0)]})]}),(0,h.jsxs)("label",{children:["Orientation",(0,h.jsxs)("select",{onChange:e=>{n(e.target.value)},defaultValue:e,children:[(0,h.jsx)("option",{value:"",children:"please orientation choose"}),(0,h.jsx)("option",{value:"a-b",children:"a-b"}),(0,h.jsx)("option",{value:"b-a",children:"b-a"})]})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Revert buttons",(0,h.jsxs)("select",{defaultValue:t,onChange:e=>r(e.target.value),children:[(0,h.jsx)("option",{value:"",children:"please revertControls choose"}),(0,h.jsx)("option",{value:"a-to-b",children:"a-to-b"}),(0,h.jsx)("option",{value:"b-to-a",children:"b-to-a"})]})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Highlight changes",(0,h.jsx)("input",{type:"checkbox",checked:!!p,onChange:e=>f(e.target.checked)})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Gutter markers",(0,h.jsx)("input",{type:"checkbox",checked:!!v,onChange:e=>m(e.target.checked)})]}),(0,h.jsxs)("label",{children:["Collapse unchanged code",(0,h.jsx)("input",{type:"checkbox",checked:!!x,onChange:e=>C(e.target.checked?{}:void 0)})]})]})},f=()=>(0,h.jsx)(r.lN,{path:()=>t.e(8263).then(t.bind(t,98263)),children:(0,h.jsx)(p,{})})},94458:(e,n,t)=>{t.d(n,{D:()=>o});var r=t(80905);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";const n=document.documentElement.getAttribute("data-color-mode"),[t,o]=(0,r.useState)("dark"===n?"dark":e);return(0,r.useEffect)(()=>{o("dark"===document.documentElement.getAttribute("data-color-mode")?"dark":"light"),document.addEventListener("colorschemechange",e=>{o(e.detail.colorScheme)})},[]),{theme:t,setTheme:o}}}}]);
//# sourceMappingURL=357.3531077f.chunk.js.map